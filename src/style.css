:root {
	--file-width: 100px;
	--border-radius: 5px;
	--aside-color: black;
	--main-color: #191919;
	--select-color: rgb(195, 195, 195);
	--select-color-opac: rgba(195, 195, 195, 0.7); /* transparency 0.7 */
	--select-color-opac-solid: #4c4c4c; /* transparency 0.3 */
	--highlight-color: #22d86b;
	--border-group: 2px;
	--border-file: 2px;
}

body {
	display: flex;
	margin: 0;
	user-select: none;
	overflow: hidden;
	overflow-y: auto;
	font-family: sans-serif;
	color: white;
	user-select: none;
	font-size: 14px;
}

main {
	display: flex;
	flex-direction: column;
	gap: var(--border-radius);
	padding: var(--border-radius);
	min-height: calc(100vh - 10px);
	background-color: var(--main-color);
	width: calc(100% - 500px - 2 * var(--border-radius));
	margin-left: 250px;
	font-size: 16px;
}

h1 {
	margin: 0;
	font-size: x-large;
}

input, button, select {
	display: block;
	background: var(--select-color-opac-solid);
	accent-color: var(--highlight-color);
	padding: var(--border-radius);
	border-radius: var(--border-radius);
	color: inherit;
	border: none;
	width: 100%;
	text-align: inherit;
}
input {
	width: calc(100% - 2 * var(--border-radius));
}
input[type=checkbox] {
	display: inline-block;
	grid-row: span 2;
	width: unset;
	margin: auto 0;
	margin-right: 10px;
}

button:hover {
	background-color: var(--select-color);
	color: black;
}

/* option {
	background: var(--select-color);
} */

*:focus {
	outline: none;
}

/* Groups */
group, dialog > div {
	display: flex;
	flex-flow: row wrap;
	gap: var(--border-radius);
	padding: var(--border-radius);
	border: var(--border-group) solid var(--select-color-opac-solid);
	border-radius: var(--border-radius);
	min-height: 20px;
}

#create_group, #default_group  {
	min-height: 50px;
	border-color: var(--highlight-color);
}

#default_group {
	border-color: transparent;
}

.selected_container {
	border-color: var(--highlight-color);
}


/* Files */
file {
	position: relative;
	display: flex;
	flex-direction: column;
	width: var(--file-width);
	padding: var(--border-radius);
	border: var(--border-file) solid transparent;
	border-radius: var(--border-radius);
	cursor: move;
	transition: transform 200ms ease;
	will-change: transform;
}

main:not(.started_dragging) file:hover, dialog, file:hover, file.selected_element, file.dragging_clone {
	background-color: var(--select-color-opac-solid);
}
file.selected_element {
	border: var(--border-file) solid var(--select-color);
}

file.dragging {
	border: var(--border-file) solid var(--select-color);
	pointer-events: none;
}
file.dragging * {
	visibility: hidden;
}

file.dragging_clone {
	position: fixed;
	top: -9999px;
}

file span {
	position: absolute;
	bottom: 0;
	right: 0;
	background-color: var(--highlight-color);
	color: black;
	padding: var(--border-radius);
	border-radius: 2px;
}

file div {
	display: flex;
	align-items: flex-end;
	flex: 1;
	width: 100%;
	max-height: calc(var(--file-width) - 2 * var(--border-radius));
}

file img {
	width: 100%;
	max-height: 100%;
	object-fit: contain;
}

file text {
	padding: 0;
	padding-top: var(--border-radius);
	text-align: center;
	font-size: smaller;
	background: unset;
	border: none;
	width: 100%;
	overflow-wrap: anywhere;
}

/* Aside */
aside {
	position: fixed;
	display: flex;
	flex-direction: column;
	background-color: var(--aside-color);
	height: 100vh;
	width: 250px;
}

aside div {
	background-color: var(--aside-color);
	width: calc(100% - 20px);
	padding: 10px;
}

label {
	display: inline-block;
	padding: var(--border-radius);
}
label span {
	font-size: small;
}
label:has(input[type=checkbox]) {
	display: grid;
	grid-template-columns: min-content auto;
}

aside input, aside button, aside select, dialog input {
	margin-bottom: 10px;
}

aside div:has(group) {
	display: none;
	position: absolute;
	left: 0;
	bottom: 0;
	border-top: var(--border-group) solid var(--select-color-opac-solid);
}

aside div:has(group) label {
	padding: 0;
	padding-bottom: 10px;
	padding-left: var(--border-radius);
}

#dragmap {
	right: 0;
	width: 230px;
	padding: 10px;
}

@media screen and (max-width: 1100px) {
	main {
		width: calc(100% - 250px - 2 * var(--border-radius));
	}
	#dragmap {
		display: none;
	}
}

/* Context menu */
contextmenu {
	display: flex;
	flex-direction: column;
	position: fixed;
	border-radius: 8px;
	padding: 5px;
	gap: 5px;
	transform: scale(0);
	transform-origin: top left;
	background-color: var(--select-color-opac-solid);
	box-shadow: 0 0 15px 0 rgba(0,0,0,0.65);
}

contextmenu.visible {
	transform: scale(1);
	transition: transform 50ms ease-in-out;
}

contextmenu button {
	background: unset;
	border-radius: 3px;
	text-align: left;
}

contextmenu button:first-child {
	border-top-left-radius: 3px;
	border-top-right-radius: 3px;
}

contextmenu button:last-child {
	border-bottom-left-radius: 3px;
	border-bottom-right-radius: 3px;
}

/* Dialog */
dialog {
	text-align: center;
	color: inherit;
	background-color: var(--main-color);
	border: none;
	border-radius: var(--border-radius);
	padding: 25px 30px;
	--file-width: 200px;
	max-width: calc(100vw - 110px);
	max-height: calc(100vh - 100px);
	overflow: hidden;
}

dialog::backdrop {
	background-color: var(--select-color-opac);
}

dialog > div {
	border: none;
	justify-content: center;
}

dialog > input, dialog p, dialog table {
	margin: 14px 0;
}

dialog table {
	display: block;
	max-width: 80vw;
	max-height: 50vh;
	overflow: auto;
}

dialog td, dialog th {
	padding: 2px 10px;
}

.zoomist-wrapper {
	background-color: transparent !important;
	position: relative;
}

.zoomist-container img {
	max-width: calc(100vw - 110px);
	max-height: calc(100vh - 100px);
}

.zoomist-close {
	position: absolute;
	font-size: 25px;
	font-weight: bold;
	color: red;
	top: 30px;
	right: 42px;
	text-shadow: 0 0 15px rgba(0,0,0,0.65);
	cursor: pointer;
	z-index: 100;
}

.zoomist-close:hover {
	color: darkred;
}